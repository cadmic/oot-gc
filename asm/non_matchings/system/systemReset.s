glabel systemReset
/* 027FD8 8002D578 7C0802A6 */  mflr    r0
/* 027FDC 8002D57C 38800000 */  li      r4, 0
/* 027FE0 8002D580 90010004 */  stw     r0, 4(r1)
/* 027FE4 8002D584 3800FFFF */  li      r0, -1
/* 027FE8 8002D588 9421FFD8 */  stwu    r1, -0x28(r1)
/* 027FEC 8002D58C 93E10024 */  stw     r31, 0x24(r1)
/* 027FF0 8002D590 93C10020 */  stw     r30, 0x20(r1)
/* 027FF4 8002D594 93A1001C */  stw     r29, 0x1c(r1)
/* 027FF8 8002D598 3BA30000 */  addi    r29, r3, 0
/* 027FFC 8002D59C 3BFD0030 */  addi    r31, r29, 0x30
/* 028000 8002D5A0 9003006C */  stw     r0, 0x6c(r3)
/* 028004 8002D5A4 90030068 */  stw     r0, 0x68(r3)
/* 028008 8002D5A8 80630030 */  lwz     r3, 0x30(r3)
/* 02800C 8002D5AC 4804002D */  bl      romGetImage
/* 028010 8002D5B0 2C030000 */  cmpwi   r3, 0
/* 028014 8002D5B4 4182015C */  beq     lbl_8002D710
/* 028018 8002D5B8 7FA3EB78 */  mr      r3, r29
/* 02801C 8002D5BC 4800357D */  bl      systemSetupGameRAM
/* 028020 8002D5C0 2C030000 */  cmpwi   r3, 0
/* 028024 8002D5C4 4082000C */  bne     lbl_8002D5D0
/* 028028 8002D5C8 38600000 */  li      r3, 0
/* 02802C 8002D5CC 48000148 */  b       lbl_8002D714
lbl_8002D5D0:
/* 028030 8002D5D0 807D002C */  lwz     r3, 0x2c(r29)
/* 028034 8002D5D4 4803FA85 */  bl      ramWipe
/* 028038 8002D5D8 2C030000 */  cmpwi   r3, 0
/* 02803C 8002D5DC 4082000C */  bne     lbl_8002D5E8
/* 028040 8002D5E0 38600000 */  li      r3, 0
/* 028044 8002D5E4 48000130 */  b       lbl_8002D714
lbl_8002D5E8:
/* 028048 8002D5E8 807F0000 */  lwz     r3, 0(r31)
/* 02804C 8002D5EC 38810010 */  addi    r4, r1, 0x10
/* 028050 8002D5F0 48040BE9 */  bl      romGetPC
/* 028054 8002D5F4 2C030000 */  cmpwi   r3, 0
/* 028058 8002D5F8 4082000C */  bne     lbl_8002D604
/* 02805C 8002D5FC 38600000 */  li      r3, 0
/* 028060 8002D600 48000114 */  b       lbl_8002D714
lbl_8002D604:
/* 028064 8002D604 3C600100 */  lis     r3, 0x100
/* 028068 8002D608 80810014 */  lwz     r4, 0x14(r1)
/* 02806C 8002D60C 3803FFFF */  addi    r0, r3, -1
/* 028070 8002D610 7C840038 */  and     r4, r4, r0
/* 028074 8002D614 3BE00000 */  li      r31, 0
/* 028078 8002D618 387D0000 */  addi    r3, r29, 0
/* 02807C 8002D61C 38A01000 */  li      r5, 0x1000
/* 028080 8002D620 3CC00010 */  lis     r6, 0x10
/* 028084 8002D624 38E00000 */  li      r7, 0
/* 028088 8002D628 480002DD */  bl      systemCopyROM
/* 02808C 8002D62C 2C030000 */  cmpwi   r3, 0
/* 028090 8002D630 4082000C */  bne     lbl_8002D63C
/* 028094 8002D634 38600000 */  li      r3, 0
/* 028098 8002D638 480000DC */  b       lbl_8002D714
lbl_8002D63C:
/* 02809C 8002D63C 3BDD0024 */  addi    r30, r29, 0x24
/* 0280A0 8002D640 807D0024 */  lwz     r3, 0x24(r29)
/* 0280A4 8002D644 480074A5 */  bl      cpuReset
/* 0280A8 8002D648 2C030000 */  cmpwi   r3, 0
/* 0280AC 8002D64C 4082000C */  bne     lbl_8002D658
/* 0280B0 8002D650 38600000 */  li      r3, 0
/* 0280B4 8002D654 480000C0 */  b       lbl_8002D714
lbl_8002D658:
/* 0280B8 8002D658 807E0000 */  lwz     r3, 0(r30)
/* 0280BC 8002D65C 39000000 */  li      r8, 0
/* 0280C0 8002D660 80A10010 */  lwz     r5, 0x10(r1)
/* 0280C4 8002D664 38E00000 */  li      r7, 0
/* 0280C8 8002D668 80C10014 */  lwz     r6, 0x14(r1)
/* 0280CC 8002D66C 39400000 */  li      r10, 0
/* 0280D0 8002D670 39200000 */  li      r9, 0
/* 0280D4 8002D674 480073F9 */  bl      cpuSetXPC
/* 0280D8 8002D678 7FA3EB78 */  mr      r3, r29
/* 0280DC 8002D67C 480006F5 */  bl      systemSetupGameALL
/* 0280E0 8002D680 2C030000 */  cmpwi   r3, 0
/* 0280E4 8002D684 4082000C */  bne     lbl_8002D690
/* 0280E8 8002D688 38600000 */  li      r3, 0
/* 0280EC 8002D68C 48000088 */  b       lbl_8002D714
lbl_8002D690:
/* 0280F0 8002D690 3BC00000 */  li      r30, 0
lbl_8002D694:
/* 0280F4 8002D694 381F0024 */  addi    r0, r31, 0x24
/* 0280F8 8002D698 7C7D002E */  lwzx    r3, r29, r0
/* 0280FC 8002D69C 28030000 */  cmplwi  r3, 0
/* 028100 8002D6A0 41820020 */  beq     lbl_8002D6C0
/* 028104 8002D6A4 38801003 */  li      r4, 0x1003
/* 028108 8002D6A8 38A00000 */  li      r5, 0
/* 02810C 8002D6AC 4BFDA5C1 */  bl      xlObjectEvent
/* 028110 8002D6B0 2C030000 */  cmpwi   r3, 0
/* 028114 8002D6B4 4082000C */  bne     lbl_8002D6C0
/* 028118 8002D6B8 38600000 */  li      r3, 0
/* 02811C 8002D6BC 48000058 */  b       lbl_8002D714
lbl_8002D6C0:
/* 028120 8002D6C0 3BDE0001 */  addi    r30, r30, 1
/* 028124 8002D6C4 2C1E0010 */  cmpwi   r30, 0x10
/* 028128 8002D6C8 3BFF0004 */  addi    r31, r31, 4
/* 02812C 8002D6CC 4180FFC8 */  blt     lbl_8002D694
/* 028130 8002D6D0 807D0000 */  lwz     r3, 0(r29)
/* 028134 8002D6D4 38801003 */  li      r4, 0x1003
/* 028138 8002D6D8 38A00000 */  li      r5, 0
/* 02813C 8002D6DC 4BFDA591 */  bl      xlObjectEvent
/* 028140 8002D6E0 2C030000 */  cmpwi   r3, 0
/* 028144 8002D6E4 4082000C */  bne     lbl_8002D6F0
/* 028148 8002D6E8 38600000 */  li      r3, 0
/* 02814C 8002D6EC 48000028 */  b       lbl_8002D714
lbl_8002D6F0:
/* 028150 8002D6F0 807D0004 */  lwz     r3, 4(r29)
/* 028154 8002D6F4 38801003 */  li      r4, 0x1003
/* 028158 8002D6F8 38A00000 */  li      r5, 0
/* 02815C 8002D6FC 4BFDA571 */  bl      xlObjectEvent
/* 028160 8002D700 2C030000 */  cmpwi   r3, 0
/* 028164 8002D704 4082000C */  bne     lbl_8002D710
/* 028168 8002D708 38600000 */  li      r3, 0
/* 02816C 8002D70C 48000008 */  b       lbl_8002D714
lbl_8002D710:
/* 028170 8002D710 38600001 */  li      r3, 1
lbl_8002D714:
/* 028174 8002D714 8001002C */  lwz     r0, 0x2c(r1)
/* 028178 8002D718 83E10024 */  lwz     r31, 0x24(r1)
/* 02817C 8002D71C 83C10020 */  lwz     r30, 0x20(r1)
/* 028180 8002D720 7C0803A6 */  mtlr    r0
/* 028184 8002D724 83A1001C */  lwz     r29, 0x1c(r1)
/* 028188 8002D728 38210028 */  addi    r1, r1, 0x28
/* 02818C 8002D72C 4E800020 */  blr     
